

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>17.19. EXPLAIN ANALYZE &mdash; Teradata Distribution of Presto 0.157.1-t.0.8 Documentation</title>
  

  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="../_static/css/teradata.css" type="text/css" />
  

  

  
        <link rel="index" title="Index"
              href="../genindex.html"/>
        <link rel="search" title="Search" href="../search.html"/>
    <link rel="top" title="Teradata Distribution of Presto 0.157.1-t.0.8 Documentation" href="../index.html"/>
        <link rel="up" title="17. SQL Statement Syntax" href="../sql.html"/>
        <link rel="next" title="17.20. GRANT" href="grant.html"/>
        <link rel="prev" title="17.18. EXPLAIN" href="explain.html"/> 

  
  <script src="../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../index.html" class="icon icon-home"> Teradata Distribution of Presto
          

          
          </a>

          
            
            
              <div class="version">
                0.157.1-t.0.8
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
                <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../overview.html">1. Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="../system-requirements.html">2. System Requirements</a></li>
<li class="toctree-l1"><a class="reference internal" href="../getting-started.html">3. Getting Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="../sandbox-vms.html">4. Presto Installation on a Sandbox VM</a></li>
<li class="toctree-l1"><a class="reference internal" href="../server-installation-cluster-manual.html">5. Presto Server Installation on a Cluster (Presto Admin and RPMs)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../server-installation-aws-emr-manual.html">6. Presto Server Installation on an AWS EMR (Presto Admin and RPMs)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../server-installation-other.html">7. Alternative Installation Methods</a></li>
<li class="toctree-l1"><a class="reference internal" href="../client.html">8. Presto Client Software</a></li>
<li class="toctree-l1"><a class="reference internal" href="../installation/presto-admin/user-guide.html">9. Presto Admin</a></li>
<li class="toctree-l1"><a class="reference internal" href="../security.html">10. Security</a></li>
<li class="toctree-l1"><a class="reference internal" href="../admin.html">11. Administration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../querygrid.html">12. Teradata QueryGrid</a></li>
<li class="toctree-l1"><a class="reference internal" href="../connector.html">13. Teradata Supported Connectors</a></li>
<li class="toctree-l1"><a class="reference internal" href="../community_connector.html">14. Community Supported Connectors</a></li>
<li class="toctree-l1"><a class="reference internal" href="../functions.html">15. Functions and Operators</a></li>
<li class="toctree-l1"><a class="reference internal" href="../language.html">16. SQL Language</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../sql.html">17. SQL Statement Syntax</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="alter-schema.html">17.1. ALTER SCHEMA</a></li>
<li class="toctree-l2"><a class="reference internal" href="alter-table.html">17.2. ALTER TABLE</a></li>
<li class="toctree-l2"><a class="reference internal" href="call.html">17.3. CALL</a></li>
<li class="toctree-l2"><a class="reference internal" href="commit.html">17.4. COMMIT</a></li>
<li class="toctree-l2"><a class="reference internal" href="create-schema.html">17.5. CREATE SCHEMA</a></li>
<li class="toctree-l2"><a class="reference internal" href="create-table.html">17.6. CREATE TABLE</a></li>
<li class="toctree-l2"><a class="reference internal" href="create-table-as.html">17.7. CREATE TABLE AS</a></li>
<li class="toctree-l2"><a class="reference internal" href="create-view.html">17.8. CREATE VIEW</a></li>
<li class="toctree-l2"><a class="reference internal" href="deallocate-prepare.html">17.9. DEALLOCATE PREPARE</a></li>
<li class="toctree-l2"><a class="reference internal" href="delete.html">17.10. DELETE</a></li>
<li class="toctree-l2"><a class="reference internal" href="describe.html">17.11. DESCRIBE</a></li>
<li class="toctree-l2"><a class="reference internal" href="describe-input.html">17.12. DESCRIBE INPUT</a></li>
<li class="toctree-l2"><a class="reference internal" href="describe-output.html">17.13. DESCRIBE OUTPUT</a></li>
<li class="toctree-l2"><a class="reference internal" href="drop-schema.html">17.14. DROP SCHEMA</a></li>
<li class="toctree-l2"><a class="reference internal" href="drop-table.html">17.15. DROP TABLE</a></li>
<li class="toctree-l2"><a class="reference internal" href="drop-view.html">17.16. DROP VIEW</a></li>
<li class="toctree-l2"><a class="reference internal" href="execute.html">17.17. EXECUTE</a></li>
<li class="toctree-l2"><a class="reference internal" href="explain.html">17.18. EXPLAIN</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">17.19. EXPLAIN ANALYZE</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#synopsis">Synopsis</a></li>
<li class="toctree-l3"><a class="reference internal" href="#description">Description</a></li>
<li class="toctree-l3"><a class="reference internal" href="#examples">Examples</a></li>
<li class="toctree-l3"><a class="reference internal" href="#see-also">See Also</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="grant.html">17.20. GRANT</a></li>
<li class="toctree-l2"><a class="reference internal" href="insert.html">17.21. INSERT</a></li>
<li class="toctree-l2"><a class="reference internal" href="prepare.html">17.22. PREPARE</a></li>
<li class="toctree-l2"><a class="reference internal" href="reset-session.html">17.23. RESET SESSION</a></li>
<li class="toctree-l2"><a class="reference internal" href="revoke.html">17.24. REVOKE</a></li>
<li class="toctree-l2"><a class="reference internal" href="rollback.html">17.25. ROLLBACK</a></li>
<li class="toctree-l2"><a class="reference internal" href="select.html">17.26. SELECT</a></li>
<li class="toctree-l2"><a class="reference internal" href="set-session.html">17.27. SET SESSION</a></li>
<li class="toctree-l2"><a class="reference internal" href="show-catalogs.html">17.28. SHOW CATALOGS</a></li>
<li class="toctree-l2"><a class="reference internal" href="show-columns.html">17.29. SHOW COLUMNS</a></li>
<li class="toctree-l2"><a class="reference internal" href="show-create-table.html">17.30. SHOW CREATE TABLE</a></li>
<li class="toctree-l2"><a class="reference internal" href="show-create-view.html">17.31. SHOW CREATE VIEW</a></li>
<li class="toctree-l2"><a class="reference internal" href="show-functions.html">17.32. SHOW FUNCTIONS</a></li>
<li class="toctree-l2"><a class="reference internal" href="show-grants.html">17.33. SHOW GRANTS</a></li>
<li class="toctree-l2"><a class="reference internal" href="show-partitions.html">17.34. SHOW PARTITIONS</a></li>
<li class="toctree-l2"><a class="reference internal" href="show-schemas.html">17.35. SHOW SCHEMAS</a></li>
<li class="toctree-l2"><a class="reference internal" href="show-session.html">17.36. SHOW SESSION</a></li>
<li class="toctree-l2"><a class="reference internal" href="show-tables.html">17.37. SHOW TABLES</a></li>
<li class="toctree-l2"><a class="reference internal" href="start-transaction.html">17.38. START TRANSACTION</a></li>
<li class="toctree-l2"><a class="reference internal" href="use.html">17.39. USE</a></li>
<li class="toctree-l2"><a class="reference internal" href="values.html">17.40. VALUES</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../migration.html">18. Migration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../optimizer.html">19. Query Optimizer</a></li>
<li class="toctree-l1"><a class="reference internal" href="../develop.html">20. Developer Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../versions.html">21. Older Versions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../release.html">22. Release Notes</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="../index.html">Teradata Distribution of Presto</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          

 



<div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../index.html">Docs</a> &raquo;</li>
      
        <li><a href="../sql.html">17. SQL Statement Syntax</a> &raquo;</li>
      
    <li>17.19. EXPLAIN ANALYZE</li>
    <li class="wy-breadcrumbs-aside">
      
        
          <a href="../_sources/sql/explain-analyze.txt" rel="nofollow"> View page source</a>
        
      
    </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="explain-analyze">
<h1>17.19. EXPLAIN ANALYZE</h1>
<div class="section" id="synopsis">
<h2>Synopsis</h2>
<div class="highlight-none"><div class="highlight"><pre><span></span>EXPLAIN ANALYZE statement
</pre></div>
</div>
</div>
<div class="section" id="description">
<h2>Description</h2>
<p>Execute the statement and show the distributed execution plan of the statement
along with the cost of each operation.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">The stats may not be entirely accurate, especially for queries that complete quickly.</p>
</div>
</div>
<div class="section" id="examples">
<h2>Examples</h2>
<p>In the example below, you can see the CPU time spent in each stage, as well as the relative
cost of each operator in the stage. Note that the relative cost of the operators is based on
wall time, which may or may not be correlated to CPU time. For each plan node you can see
statistics for individual operators. Such statistics are useful when one wants to detect data
anomalies for a query (skewness, abnormal hash collisions).</p>
<div class="highlight-none"><div class="highlight"><pre><span></span>presto:sf1&gt; EXPLAIN ANALYZE SELECT count(*), clerk FROM orders WHERE orderdate &gt; date &#39;1995-01-01&#39; GROUP BY clerk;

                                          Query Plan
-----------------------------------------------------------------------------------------------
Fragment 1 [SINGLE]
    Cost: CPU 7.07ms, Input: 1000 rows (8.79kB), Output: 1000 rows (8.79kB)
    Output layout: [count]
    Output partitioning: SINGLE []
    - Output[Query Plan] =&gt; [count:bigint]
            Cost: 0.00%, Output: 1000 rows (8.79kB)
            TaskOutputOperator := Drivers: 1, Input avg.: 1000.00 lines, Input std.dev.: 0.00%
            Query Plan := count
        - RemoteSource[2] =&gt; [count:bigint]
                Cost: 100.00%, Output: 1000 rows (8.79kB)
                ExchangeOperator := Drivers: 1, Input avg.: 1000.00 lines, Input std.dev.: 0.00%

Fragment 2 [HASH]
    Cost: CPU 22.55ms, Input: 4000 rows (148.44kB), Output: 1000 rows (8.79kB)
    Output layout: [count]
    Output partitioning: SINGLE []
    - Project[] =&gt; [count:bigint]
            Cost: 4.11%, Input: 1000 rows (37.11kB), Output: 1000 rows (8.79kB), Filtered: 0.00%
            TaskOutputOperator := Drivers: 1, Input avg.: 1000.00 lines, Input std.dev.: 0.00%
            FilterAndProjectOperator := Drivers: 1, Input avg.: 1000.00 lines, Input std.dev.: 0.00%
        - Aggregate(FINAL)[clerk] =&gt; [clerk:varchar(15), $hashvalue:bigint, count:bigint]
                Cost: 23.29%, Output: 1000 rows (37.11kB)
                HashAggregationOperator := Drivers: 1, Input avg.: 4000.00 lines, Input std.dev.: 0.00%
                HashAggregationOperator := Collisions avg.: 112.00 (345.16% est.), Collisions std.dev.: 0.00%
                count := &quot;count&quot;(&quot;count_8&quot;)
            - RemoteSource[3] =&gt; [clerk:varchar(15), count_8:bigint, $hashvalue:bigint]
                    Cost: 72.60%, Output: 4000 rows (148.44kB)
                    ExchangeOperator := Drivers: 1, Input avg.: 4000.00 lines, Input std.dev.: 0.00%

Fragment 3 [tpch:orders:1500000]
    Cost: CPU 20.58s, Input: 818058 rows (22.62MB), Output: 4000 rows (148.44kB)
    Output layout: [clerk, count_8, $hashvalue_9]
    Output partitioning: HASH [clerk]
    - Aggregate(PARTIAL)[clerk] =&gt; [clerk:varchar(15), $hashvalue_9:bigint, count_8:bigint]
            Cost: 5.37%, Output: 4000 rows (148.44kB)
            HashAggregationOperator := Drivers: 4, Input avg.: 204514.50 lines, Input std.dev.: 0.05%
            HashAggregationOperator := Collisions avg.: 5701.28 (17569.93% est.), Collisions std.dev.: 1.12%
            PartitionedOutputOperator := Drivers: 4, Input avg.: 1000.00 lines, Input std.dev.: 0.00%
            count_8 := &quot;count&quot;(*)
        - ScanFilterProject[table = tpch:tpch:orders:sf1.0, originalConstraint = (&quot;orderdate&quot; &gt; &quot;$literal$date&quot;(BIGINT &#39;9131&#39;)), filterPredicate = (&quot;orderdate&quot; &gt; &quot;$literal$date&quot;(BIGINT &#39;9131&#39;))] =&gt; [cler
                Cost: 94.63%, Input: 1500000 rows (0B), Output: 818058 rows (22.62MB), Filtered: 45.46%
                ScanFilterAndProjectOperator := Drivers: 4, Input avg.: 375000.00 lines, Input std.dev.: 0.00%
                $hashvalue_9 := &quot;combine_hash&quot;(BIGINT &#39;0&#39;, COALESCE(&quot;$operator$hash_code&quot;(&quot;clerk&quot;), 0))
                orderdate := tpch:orderdate
                clerk := tpch:clerk
</pre></div>
</div>
</div>
<div class="section" id="see-also">
<h2>See Also</h2>
<p><a class="reference internal" href="explain.html"><span class="doc">EXPLAIN</span></a></p>
</div>
</div>


           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="grant.html" class="btn btn-neutral float-right" title="17.20. GRANT" accesskey="n">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="explain.html" class="btn btn-neutral" title="17.18. EXPLAIN" accesskey="p"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>

    </p>
  </div> 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../',
            VERSION:'0.157.1-t.0.8',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="../_static/jquery.js"></script>
      <script type="text/javascript" src="../_static/underscore.js"></script>
      <script type="text/javascript" src="../_static/doctools.js"></script>

  

  
  
    <script type="text/javascript" src="../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>